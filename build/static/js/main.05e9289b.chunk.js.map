{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleSearch","searchTerm","onChange","value","PersonForm","onSubmit","handleNameChange","handleNumberChange","nameValue","numberValue","type","Persons","data","onDeleteButtonClick","handleDeleteButtonClick","id","name","length","map","item","toLowerCase","includes","number","onClick","bind","baseUrl","axios","get","then","response","post","delete","newData","put","Notification","message","className","defaultProps","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchTerm","notification","setNotification","useEffect","personServices","catch","error","console","warn","emptyInputFields","timer","setTimeout","clearTimeout","duration","event","target","preventDefault","filter","toLocaleLowerCase","confirmNumberReplace","window","confirm","itemToUpdate","find","updatedItem","updateFormData","concat","addFormData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.05e9289b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ handleSearch, searchTerm }) => (\n  <div>\n    <label>Filter shown with: </label>\n    <input onChange={handleSearch} value={searchTerm} />\n  </div>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  onSubmit,\n  handleNameChange,\n  handleNumberChange,\n  nameValue,\n  numberValue,\n}) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      <label>Name: </label>\n      <input onChange={handleNameChange} value={nameValue} />\n    </div>\n    <div>\n      <label>Number: </label>\n      <input type=\"tel\" onChange={handleNumberChange} value={numberValue} />\n    </div>\n    <div>\n      <button type=\"submit\">Add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Persons = ({ data, searchTerm, onDeleteButtonClick }) => {\n\tconst handleDeleteButtonClick = (id, name) => {\n\t\tif (onDeleteButtonClick) {\n\t\t\tonDeleteButtonClick(id, name);\n\t\t}\n\t};\n\treturn (\n\t\t!!data.length &&\n\t\tdata.map(\n\t\t\t(item) =>\n\t\t\t\titem.name.toLowerCase().includes(searchTerm.toLowerCase()) && (\n\t\t\t\t\t<p key={item.id}>\n\t\t\t\t\t\t{item.name} : {item.number}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={handleDeleteButtonClick.bind(null, item.id, item.name)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</p>\n\t\t\t\t)\n\t\t)\n\t);\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"http://localhost:3001/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst createData = (data) => {\n  return axios.post(baseUrl, data).then((response) => response.data);\n};\n\nconst deleteData = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nconst updateData = (id, newData) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newData)\n    .then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  createData,\n  deleteData,\n  updateData,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Notification = ({ message, type }) => (\n  <div\n    className={`${\n      type === \"unsuccessful\" ? \"notification--error\" : \"notification--success\"\n    } notification`}\n  >\n    {message}\n  </div>\n);\n\nNotification.propTypes = {\n  type: PropTypes.oneOf([\"successful\", \"unsuccessful\"]),\n};\n\nNotification.defaultProps = {\n  type: \"successful\",\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from '../src/components/Filter';\nimport PersonForm from '../src/components/PersonForm';\nimport Persons from '../src/components/Persons';\nimport personServices from '../src/services/persons';\nimport Notification from '../src/components/Notification';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [notification, setNotification] = useState({});\n\n\tconst handleNameChange = (event) => setNewName(event.target.value);\n\tconst handleNumberChange = (event) => setNewNumber(event.target.value);\n\n\t// get the data from the server\n\tuseEffect(() => {\n\t\tpersonServices\n\t\t\t.getAll()\n\t\t\t.then((data) => {\n\t\t\t\tsetPersons(data);\n\t\t\t})\n\t\t\t.catch((error) => console.warn(error));\n\t}, []);\n\n\t// empty name and number input fields\n\tconst emptyInputFields = () => {\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t};\n\n\t// add new data to server\n\tconst addFormData = () => {\n\t\tconst newData = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\t\tpersonServices\n\t\t\t.createData(newData)\n\t\t\t.then((data) => {\n\t\t\t\tsetPersons(persons.concat(data));\n\t\t\t})\n\t\t\t.then(\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: `Added ${newData.name}.`,\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch((error) => console.warn(error));\n\t};\n\n\t// replace the old number i.e update existing data in server\n\tconst updateFormData = () => {\n\t\tconst confirmNumberReplace = window.confirm(\n\t\t\t`${newName} is already added to phone book, replace the old phone number with new one.`\n\t\t);\n\t\tconst itemToUpdate = persons.find((item) => item.name === newName);\n\t\tconst updatedItem = { ...itemToUpdate, number: newNumber };\n\t\tif (confirmNumberReplace) {\n\t\t\tpersonServices\n\t\t\t\t.updateData(updatedItem.id, updatedItem)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetPersons(\n\t\t\t\t\t\tpersons.map((item) => (item.id === response.id ? response : item))\n\t\t\t\t\t);\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Replaced ${newName}'s number.`,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.warn(error);\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Could not replace, as the information on ${newName} has already been removed from the server.`,\n\t\t\t\t\t\ttype: 'unsuccessful',\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t};\n\n\t// hide notification\n\tuseEffect(() => {\n\t\tif (notification.message) {\n\t\t\tconst timer = setTimeout(() => setNotification({}), 4000);\n\t\t\treturn () => clearTimeout(timer);\n\t\t}\n\t}, [notification]);\n\n\t// handle data o form submit\n\tconst handleFormSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tif (!newName || !newNumber) {\n\t\t\tsetNotification({\n\t\t\t\tmessage: 'Please fill both fields.',\n\t\t\t\ttype: 'unsuccessful',\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tconst isNameExist = persons.filter(\n\t\t\t(item) => item.name.toLocaleLowerCase() === newName.toLowerCase()\n\t\t).length;\n\n\t\tif (!isNameExist) {\n\t\t\taddFormData();\n\t\t} else {\n\t\t\tupdateFormData();\n\t\t}\n\t\temptyInputFields();\n\t};\n\n\t// set filter search term\n\tconst handleSearch = (event) => setSearchTerm(event.target.value);\n\n\t// delete data from the server\n\tconst handleDeleteButtonClick = (id, name) => {\n\t\tconst confirmDelete = window.confirm(`Delete ${name}?`);\n\t\tif (confirmDelete) {\n\t\t\tpersonServices\n\t\t\t\t.deleteData(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPersons(persons.filter((item) => item.id !== id));\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Deleted ${name}'s contact successfully.`,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `The information on ${name} has already been removed from the server.`,\n\t\t\t\t\t\ttype: 'unsuccessful',\n\t\t\t\t\t});\n\t\t\t\t\tconsole.warn(error);\n\t\t\t\t});\n\t\t\temptyInputFields();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Phone book</h1>\n\n\t\t\t{notification.message && (\n\t\t\t\t<Notification\n\t\t\t\t\tmessage={notification.message}\n\t\t\t\t\ttype={notification.type}\n\t\t\t\t\tduration={3000}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<Filter searchTerm={searchTerm} handleSearch={handleSearch} />\n\n\t\t\t<h2>Add a new contact</h2>\n\t\t\t<PersonForm\n\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\tnameValue={newName}\n\t\t\t\tnumberValue={newNumber}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tdata={persons}\n\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\tonDeleteButtonClick={handleDeleteButtonClick}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}